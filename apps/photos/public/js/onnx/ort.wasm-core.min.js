/*!
* ONNX Runtime Web v1.16.3
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ort=t():e.ort=t()}(self,(()=>{return e={818:(e,t,r)=>{"use strict";t.c8=t.rX=void 0;const n=r(235),o=r(381),a=r(544),i=r(640);t.rX=()=>{if(("number"!=typeof n.env.wasm.initTimeout||n.env.wasm.initTimeout<0)&&(n.env.wasm.initTimeout=0),"boolean"!=typeof n.env.wasm.simd&&(n.env.wasm.simd=!0),"boolean"!=typeof n.env.wasm.proxy&&(n.env.wasm.proxy=!1),"number"!=typeof n.env.wasm.numThreads||!Number.isInteger(n.env.wasm.numThreads)||n.env.wasm.numThreads<=0){const e="undefined"==typeof navigator?(0,o.cpus)().length:navigator.hardwareConcurrency;n.env.wasm.numThreads=Math.min(4,Math.ceil((e||1)/2))}},t.c8=new class{async init(){(0,t.rX)(),await(0,a.initializeWebAssemblyInstance)()}async createSessionHandler(e,t){const r=new i.OnnxruntimeWebAssemblySessionHandler;return await r.loadModel(e,t),Promise.resolve(r)}}},57:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(235),t);const a=r(235),i=r(408);{const e=r(818).c8;(0,a.registerBackend)("cpu",e,10),(0,a.registerBackend)("wasm",e,10),(0,a.registerBackend)("xnnpack",e,9),(0,a.registerBackend)("webnn",e,9)}a.env.versions.web=i.version},408:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="1.16.3"},544:function(e,t,r){"use strict";var n,o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initializeRuntime=t.initializeWebAssemblyInstance=void 0;const s=r(235),c=i(r(259)),u=r(263);"undefined"!=typeof document&&(null===(n=null===document||void 0===document?void 0:document.currentScript)||void 0===n||n.src),t.initializeWebAssemblyInstance=async()=>(0,u.initializeWebAssembly)(s.env.wasm),t.initializeRuntime=async e=>{await c.initRuntime(e)},t.createSessionAllocate=async e=>c.createSessionAllocate(e),t.createSessionFinalize=async(e,t)=>c.createSessionFinalize(e,t),t.createSession=async(e,t)=>c.createSession(e,t),t.releaseSession=async e=>{c.releaseSession(e)},t.run=async(e,t,r,n,o)=>c.run(e,t,r,n,o),t.endProfiling=async e=>{c.endProfiling(e)}},918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const n=r(263),o=r(497);t.setRunOptions=e=>{const t=(0,n.getInstance)();let r=0;const a=[],i=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))i.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))i.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(i.terminate=!1);let n=0;return void 0!==(null==e?void 0:e.tag)&&(n=(0,o.allocWasmString)(e.tag,a)),r=t._OrtCreateRunOptions(i.logSeverityLevel,i.logVerbosityLevel,!!i.terminate,n),0===r&&(0,o.checkLastError)("Can't create run options."),void 0!==(null==e?void 0:e.extra)&&(0,o.iterateExtraOptions)(e.extra,"",new WeakSet,((e,n)=>{const i=(0,o.allocWasmString)(e,a),s=(0,o.allocWasmString)(n,a);0!==t._OrtAddRunConfigEntry(r,i,s)&&(0,o.checkLastError)(`Can't set a run config entry: ${e} - ${n}.`)})),[r,a]}catch(e){throw 0!==r&&t._OrtReleaseRunOptions(r),a.forEach((e=>t._free(e))),e}}},640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OnnxruntimeWebAssemblySessionHandler=void 0;const n=r(806),o=r(235),a=r(850),i=r(544);let s;t.OnnxruntimeWebAssemblySessionHandler=class{async createSessionAllocate(e){const t=await fetch(e);if(200!==t.status)throw new Error(`failed to load model: ${e}`);const r=await t.arrayBuffer();return(0,i.createSessionAllocate)(new Uint8Array(r))}async loadModel(e,t){if(s||(await(0,i.initializeRuntime)(o.env),s=!0),"string"==typeof e)if("undefined"!=typeof process&&process.versions&&process.versions.node){const r=await(0,a.promisify)(n.readFile)(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,i.createSession)(r,t)}else{const r=await this.createSessionAllocate(e);[this.sessionId,this.inputNames,this.outputNames]=await(0,i.createSessionFinalize)(r,t)}else[this.sessionId,this.inputNames,this.outputNames]=await(0,i.createSession)(e,t)}async dispose(){return(0,i.releaseSession)(this.sessionId)}async run(e,t,r){const n=[],a=[];Object.entries(e).forEach((e=>{const t=e[0],r=e[1],o=this.inputNames.indexOf(t);if(-1===o)throw new Error(`invalid input '${t}'`);n.push(r),a.push(o)}));const s=[];Object.entries(t).forEach((e=>{const t=e[0],r=this.outputNames.indexOf(t);if(-1===r)throw new Error(`invalid output '${t}'`);s.push(r)}));const c=await(0,i.run)(this.sessionId,a,n.map((e=>[e.type,e.dims,e.data])),s,r),u={};for(let e=0;e<c.length;e++)u[this.outputNames[s[e]]]=new o.Tensor(c[e][0],c[e][2],c[e][1]);return u}startProfiling(){}endProfiling(){(0,i.endProfiling)(this.sessionId)}}},622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const n=r(263),o=r(497);t.setSessionOptions=e=>{var t,r,a,i;const s=(0,n.getInstance)();let c=0;const u=[],l=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1"),e.executionProviders&&e.executionProviders.some((e=>"webgpu"===("string"==typeof e?e:e.name)))&&(e.enableMemPattern=!1)})(l);try{const e=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(null!==(t=l.graphOptimizationLevel)&&void 0!==t?t:"all"),f=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(null!==(r=l.executionMode)&&void 0!==r?r:"sequential"),d="string"==typeof l.logId?(0,o.allocWasmString)(l.logId,u):0,p=null!==(a=l.logSeverityLevel)&&void 0!==a?a:2;if(!Number.isInteger(p)||p<0||p>4)throw new Error(`log serverity level is not valid: ${p}`);const m=null!==(i=l.logVerbosityLevel)&&void 0!==i?i:0;if(!Number.isInteger(m)||m<0||m>4)throw new Error(`log verbosity level is not valid: ${m}`);const g="string"==typeof l.optimizedModelFilePath?(0,o.allocWasmString)(l.optimizedModelFilePath,u):0;return c=s._OrtCreateSessionOptions(e,!!l.enableCpuMemArena,!!l.enableMemPattern,f,!!l.enableProfiling,0,d,p,m,g),0===c&&(0,o.checkLastError)("Can't create session options."),l.executionProviders&&((e,t,r)=>{for(const a of t){let t="string"==typeof a?a:a.name;switch(t){case"xnnpack":t="XNNPACK";break;case"webnn":if(t="WEBNN","string"!=typeof a){const t=a;if(null==t?void 0:t.deviceType){const a=(0,o.allocWasmString)("deviceType",r),i=(0,o.allocWasmString)(t.deviceType,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,a,i)&&(0,o.checkLastError)(`Can't set a session config entry: 'deviceType' - ${t.deviceType}.`)}if(null==t?void 0:t.powerPreference){const a=(0,o.allocWasmString)("powerPreference",r),i=(0,o.allocWasmString)(t.powerPreference,r);0!==(0,n.getInstance)()._OrtAddSessionConfigEntry(e,a,i)&&(0,o.checkLastError)(`Can't set a session config entry: 'powerPreference' - ${t.powerPreference}.`)}}break;case"webgpu":t="JS";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${t}`)}const i=(0,o.allocWasmString)(t,r);0!==(0,n.getInstance)()._OrtAppendExecutionProvider(e,i)&&(0,o.checkLastError)(`Can't append execution provider: ${t}.`)}})(c,l.executionProviders,u),void 0!==l.extra&&(0,o.iterateExtraOptions)(l.extra,"",new WeakSet,((e,t)=>{const r=(0,o.allocWasmString)(e,u),n=(0,o.allocWasmString)(t,u);0!==s._OrtAddSessionConfigEntry(c,r,n)&&(0,o.checkLastError)(`Can't set a session config entry: ${e} - ${t}.`)})),[c,u]}catch(e){throw 0!==c&&s._OrtReleaseSessionOptions(c),u.forEach((e=>s._free(e))),e}}},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevelStringToEnum=t.tensorTypeToTypedArrayConstructor=t.getTensorElementSize=t.tensorDataTypeEnumToString=t.tensorDataTypeStringToEnum=void 0,t.tensorDataTypeStringToEnum=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},t.tensorDataTypeEnumToString=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},t.getTensorElementSize=e=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][e],t.tensorTypeToTypedArrayConstructor=e=>{switch(e){case"float16":case"uint16":return Uint16Array;case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}},t.logLevelStringToEnum=e=>{switch(e){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${e}`)}}},259:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.createSessionFinalize=t.createSessionAllocate=t.initRuntime=void 0;const n=r(918),o=r(622),a=r(917),i=r(263),s=r(497);t.initRuntime=async e=>{var t,r;t=e.wasm.numThreads,r=(0,a.logLevelStringToEnum)(e.logLevel),0!==(0,i.getInstance)()._OrtInit(t,r)&&(0,s.checkLastError)("Can't initialize onnxruntime.")};const c=new Map;t.createSessionAllocate=e=>{const t=(0,i.getInstance)(),r=t._malloc(e.byteLength);if(0===r)throw new Error(`Can't create a session. failed to allocate a buffer of size ${e.byteLength}.`);return t.HEAPU8.set(e,r),[r,e.byteLength]},t.createSessionFinalize=(e,t)=>{const r=(0,i.getInstance)();let n=0,a=0,u=[];const l=[],f=[];try{[a,u]=(0,o.setSessionOptions)(t),n=r._OrtCreateSession(e[0],e[1],a),0===n&&(0,s.checkLastError)("Can't create a session.");const[d,p]=(e=>{const t=(0,i.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);return 0!==t._OrtGetInputOutputCount(e,r,r+4)&&(0,s.checkLastError)("Can't get session input/output count."),[t.HEAP32[r/4],t.HEAP32[r/4+1]]}finally{t.stackRestore(r)}})(n),m=[],g=[];for(let e=0;e<d;e++){const t=r._OrtGetInputName(n,e);0===t&&(0,s.checkLastError)("Can't get an input name."),l.push(t),m.push(r.UTF8ToString(t))}for(let e=0;e<p;e++){const t=r._OrtGetOutputName(n,e);0===t&&(0,s.checkLastError)("Can't get an output name."),f.push(t),g.push(r.UTF8ToString(t))}return c.set(n,[n,l,f]),[n,m,g]}catch(e){throw l.forEach((e=>r._OrtFree(e))),f.forEach((e=>r._OrtFree(e))),0!==n&&r._OrtReleaseSession(n),e}finally{r._free(e[0]),0!==a&&r._OrtReleaseSessionOptions(a),u.forEach((e=>r._free(e)))}},t.createSession=(e,r)=>{const n=(0,t.createSessionAllocate)(e);return(0,t.createSessionFinalize)(n,r)},t.releaseSession=e=>{const t=(0,i.getInstance)(),r=c.get(e);if(!r)throw new Error(`cannot release session. invalid session id: ${e}`);const[n,o,a]=r;o.forEach((e=>t._OrtFree(e))),a.forEach((e=>t._OrtFree(e))),t._OrtReleaseSession(n),c.delete(e)},t.run=async(e,t,r,o,u)=>{const l=(0,i.getInstance)(),f=c.get(e);if(!f)throw new Error(`cannot run inference. invalid session id: ${e}`);const[d,p,m]=f,g=t.length,h=o.length;let y=0,v=[];const w=[],b=[];try{[y,v]=(0,n.setRunOptions)(u);for(let e=0;e<g;e++){const t=r[e][0],n=r[e][1],o=r[e][2];let i,c;if(Array.isArray(o)){c=4*o.length,i=l._malloc(c),b.push(i);let e=i/4;for(let t=0;t<o.length;t++){if("string"!=typeof o[t])throw new TypeError(`tensor data at index ${t} is not a string`);l.HEAPU32[e++]=(0,s.allocWasmString)(o[t],b)}}else c=o.byteLength,i=l._malloc(c),b.push(i),l.HEAPU8.set(new Uint8Array(o.buffer,o.byteOffset,c),i);const u=l.stackSave(),f=l.stackAlloc(4*n.length);try{let r=f/4;n.forEach((e=>l.HEAP32[r++]=e));const o=l._OrtCreateTensor((0,a.tensorDataTypeStringToEnum)(t),i,c,f,n.length);0===o&&(0,s.checkLastError)(`Can't create tensor for input[${e}].`),w.push(o)}finally{l.stackRestore(u)}}const e=l.stackSave(),i=l.stackAlloc(4*g),c=l.stackAlloc(4*g),f=l.stackAlloc(4*h),O=l.stackAlloc(4*h);try{let e=i/4,r=c/4,n=f/4,u=O/4;for(let n=0;n<g;n++)l.HEAPU32[e++]=w[n],l.HEAPU32[r++]=p[t[n]];for(let e=0;e<h;e++)l.HEAPU32[n++]=0,l.HEAPU32[u++]=m[o[e]];let v=l._OrtRun(d,c,i,g,O,h,f,y);const b=l.jsepRunPromise;b&&void 0!==b.then&&(v=await b);const E=[];0!==v&&(0,s.checkLastError)("failed to call OrtRun().");for(let e=0;e<h;e++){const t=l.HEAPU32[f/4+e],r=l.stackSave(),n=l.stackAlloc(16);let o,i=0;try{v=l._OrtGetTensorData(t,n,n+4,n+8,n+12),0!==v&&(0,s.checkLastError)(`Can't access output tensor data on index ${e}.`);let r=n/4;const c=l.HEAPU32[r++];i=l.HEAPU32[r++];const u=l.HEAPU32[r++],f=l.HEAPU32[r++],d=[];for(let e=0;e<f;e++)d.push(l.HEAPU32[u/4+e]);l._OrtFree(u);const p=0===d.length?1:d.reduce(((e,t)=>e*t));if(o=(0,a.tensorDataTypeEnumToString)(c),"string"===o){const e=[];let t=i/4;for(let r=0;r<p;r++){const n=l.HEAPU32[t++],o=r===p-1?void 0:l.HEAPU32[t]-n;e.push(l.UTF8ToString(n,o))}E.push([o,d,e])}else{const e=new((0,a.tensorTypeToTypedArrayConstructor)(o))(p);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(l.HEAPU8.subarray(i,i+e.byteLength)),E.push([o,d,e])}}finally{l.stackRestore(r),"string"===o&&i&&l._free(i),l._OrtReleaseTensor(t)}}return E}finally{l.stackRestore(e)}}finally{w.forEach((e=>l._OrtReleaseTensor(e))),b.forEach((e=>l._free(e))),0!==y&&l._OrtReleaseRunOptions(y),v.forEach((e=>l._free(e)))}},t.endProfiling=e=>{const t=(0,i.getInstance)(),r=c.get(e);if(!r)throw new Error("invalid session id");const n=r[0],o=t._OrtEndProfiling(n);0===o&&(0,s.checkLastError)("Can't get an profile file name."),t._OrtFree(o)},t.extractTransferableBuffers=e=>{const t=[];for(const r of e){const e=r[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},263:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0,a(r(449));const i=r(932),s=i;let c,u=!1,l=!1,f=!1;t.initializeWebAssembly=async e=>{if(u)return Promise.resolve();if(l)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(f)throw new Error("previous call to 'initializeWebAssembly()' failed.");l=!0;const t=e.initTimeout,r=e.numThreads,n=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),a=n&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),d=e.wasmPaths,p="string"==typeof d?d:void 0,m=((e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm")(a,o),g="object"==typeof d?d[m]:void 0;let h=!1;const y=[];if(t>0&&y.push(new Promise((e=>{setTimeout((()=>{h=!0,e()}),t)}))),y.push(new Promise(((e,t)=>{(o?s:i)({locateFile:(e,t)=>e.endsWith(".wasm")?g||(null!=p?p:t)+m:t+e}).then((t=>{l=!1,u=!0,c=t,e()}),(e=>{l=!1,f=!0,t(e)}))}))),await Promise.race(y),h)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(u&&c)return c;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!u||l||f||(l=!0,null===(e=c.PThread)||void 0===e||e.terminateAllThreads(),c=void 0,l=!1,u=!1,f=!0)}},497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkLastError=t.iterateExtraOptions=t.allocWasmString=void 0;const n=r(263);t.allocWasmString=(e,t)=>{const r=(0,n.getInstance)(),o=r.lengthBytesUTF8(e)+1,a=r._malloc(o);return r.stringToUTF8(e,a,o),t.push(a),a},t.iterateExtraOptions=(e,r,n,o)=>{if("object"==typeof e&&null!==e){if(n.has(e))throw new Error("Circular reference in options");n.add(e)}Object.entries(e).forEach((([e,a])=>{const i=r?r+e:e;if("object"==typeof a)(0,t.iterateExtraOptions)(a,i+".",n,o);else if("string"==typeof a||"number"==typeof a)o(i,a.toString());else{if("boolean"!=typeof a)throw new Error("Can't handle extra config type: "+typeof a);o(i,a?"1":"0")}}))},t.checkLastError=e=>{const t=(0,n.getInstance)(),r=t.stackSave();try{const r=t.stackAlloc(8);t._OrtGetLastError(r,r+4);const n=t.HEAP32[r/4],o=t.HEAPU32[r/4+1],a=o?t.UTF8ToString(o):"";throw new Error(`${e} ERROR_CODE: ${n}, ERROR_MESSAGE: ${a}`)}finally{t.stackRestore(r)}}},932:(e,t,r)=>{var _scriptDir,n=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,"undefined"!=typeof __filename&&(_scriptDir=_scriptDir||__filename),function(e={}){var t,n,o=e;o.ready=new Promise(((e,r)=>{t=e,n=r}));var a,i,s,c=Object.assign({},o),u="./this.program",l=(e,t)=>{throw t},f="object"==typeof window,d="function"==typeof importScripts,p="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";if(p){var g=r(384),h=r(908);m=d?h.dirname(m)+"/":__dirname+"/",a=(e,t)=>(e=e.startsWith("file://")?new URL(e):h.normalize(e),g.readFileSync(e,t?void 0:"utf8")),s=e=>((e=a(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,r,n=!0)=>{e=e.startsWith("file://")?new URL(e):h.normalize(e),g.readFile(e,n?void 0:"utf8",((e,o)=>{e?r(e):t(n?o.buffer:o)}))},!o.thisProgram&&1<process.argv.length&&(u=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),l=(e,t)=>{throw process.exitCode=e,t},o.inspect=()=>"[Emscripten Module object]"}else(f||d)&&(d?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),_scriptDir&&(m=_scriptDir),m=0!==m.indexOf("blob:")?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",a=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},d&&(s=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,r)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var y,v=o.print||console.log.bind(console),w=o.printErr||console.error.bind(console);Object.assign(o,c),c=null,o.thisProgram&&(u=o.thisProgram),o.quit&&(l=o.quit),o.wasmBinary&&(y=o.wasmBinary);var b=o.noExitRuntime||!0;"object"!=typeof WebAssembly&&D("no native wasm support detected");var O,E,A,_,T,S,P=!1;function R(){var e=O.buffer;o.HEAP8=A=new Int8Array(e),o.HEAP16=new Int16Array(e),o.HEAP32=T=new Int32Array(e),o.HEAPU8=_=new Uint8Array(e),o.HEAPU16=new Uint16Array(e),o.HEAPU32=S=new Uint32Array(e),o.HEAPF32=new Float32Array(e),o.HEAPF64=new Float64Array(e)}var I=[],M=[],C=[];function x(){var e=o.preRun.shift();I.unshift(e)}var U,j,F=0,k=null,L=null;function D(e){throw o.onAbort&&o.onAbort(e),w(e="Aborted("+e+")"),P=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),n(e),e}function B(e){return e.startsWith("data:application/octet-stream;base64,")}if(!B(U="ort-wasm.wasm")){var H=U;U=o.locateFile?o.locateFile(H,m):m+H}function W(e){if(e==U&&y)return new Uint8Array(y);if(s)return s(e);throw"both async and sync fetching of the wasm failed"}function z(e,t,r){return function(e){if(!y&&(f||d)){if("function"==typeof fetch&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((()=>W(e)));if(i)return new Promise(((t,r)=>{i(e,(e=>t(new Uint8Array(e))),r)}))}return Promise.resolve().then((()=>W(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{w("failed to asynchronously prepare wasm: "+e),D(e)}))}function $(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var N=e=>{for(;0<e.length;)e.shift()(o)};function G(e){this.qa=e-24,this.va=function(e){S[this.qa+4>>2>>>0]=e},this.ua=function(e){S[this.qa+8>>2>>>0]=e},this.sa=function(e,t){this.ta(),this.va(e),this.ua(t)},this.ta=function(){S[this.qa+16>>2>>>0]=0}}var Y,V="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0,q=(e,t,r)=>{var n=(t>>>=0)+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&V)return V.decode(e.subarray(t,r));for(n="";t<r;){var o=e[t++];if(128&o){var a=63&e[t++];if(192==(224&o))n+=String.fromCharCode((31&o)<<6|a);else{var i=63&e[t++];65536>(o=224==(240&o)?(15&o)<<12|a<<6|i:(7&o)<<18|a<<12|i<<6|63&e[t++])?n+=String.fromCharCode(o):(o-=65536,n+=String.fromCharCode(55296|o>>10,56320|1023&o))}}else n+=String.fromCharCode(o)}return n},X=(e,t)=>(e>>>=0)?q(_,e,t):"",J=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++r):t+=3}return t},Z=(e,t,r,n)=>{if(!(0<n))return 0;var o=r>>>=0;n=r+n-1;for(var a=0;a<e.length;++a){var i=e.charCodeAt(a);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),127>=i){if(r>=n)break;t[r++>>>0]=i}else{if(2047>=i){if(r+1>=n)break;t[r++>>>0]=192|i>>6}else{if(65535>=i){if(r+2>=n)break;t[r++>>>0]=224|i>>12}else{if(r+3>=n)break;t[r++>>>0]=240|i>>18,t[r++>>>0]=128|i>>12&63}t[r++>>>0]=128|i>>6&63}t[r++>>>0]=128|63&i}}return t[r>>>0]=0,r-o},K=e=>0==e%4&&(0!=e%100||0==e%400),Q=[0,31,60,91,121,152,182,213,244,274,305,335],ee=[0,31,59,90,120,151,181,212,243,273,304,334],te=e=>{var t=J(e)+1,r=le(t);return r&&Z(e,_,r,t),r},re={},ne=()=>{if(!Y){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u||"./this.program"};for(e in re)void 0===re[e]?delete t[e]:t[e]=re[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Y=r}return Y},oe=[null,[],[]],ae=e=>(ae=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);if(p)try{var e=r(760);if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}D("initRandomDevice")})())(e),ie=[31,29,31,30,31,30,31,31,30,31,30,31],se=[31,28,31,30,31,30,31,31,30,31,30,31];function ce(e,t,r,n){function o(e,t,r){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=r[0]+e;return e}function a(e,t){return o(e,t,"0")}function i(e,t){function r(e){return 0>e?-1:0<e?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function s(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function c(e){var t=e.ma;for(e=new Date(new Date(e.na+1900,0,1).getTime());0<t;){var r=e.getMonth(),n=(K(e.getFullYear())?ie:se)[r];if(!(t>n-e.getDate())){e.setDate(e.getDate()+t);break}t-=n-e.getDate()+1,e.setDate(1),11>r?e.setMonth(r+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return r=new Date(e.getFullYear()+1,0,4),t=s(new Date(e.getFullYear(),0,4)),r=s(r),0>=i(t,e)?0>=i(r,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}e>>>=0,t>>>=0,r>>>=0;var u=T[40+(n>>>=0)>>2>>>0];for(var l in n={ya:T[n>>2>>>0],xa:T[n+4>>2>>>0],oa:T[n+8>>2>>>0],ra:T[n+12>>2>>>0],pa:T[n+16>>2>>>0],na:T[n+20>>2>>>0],ha:T[n+24>>2>>>0],ma:T[n+28>>2>>>0],Aa:T[n+32>>2>>>0],wa:T[n+36>>2>>>0],za:u?X(u):""},r=X(r),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(l,"g"),u[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in u={"%a":e=>f[e.ha].substring(0,3),"%A":e=>f[e.ha],"%b":e=>d[e.pa].substring(0,3),"%B":e=>d[e.pa],"%C":e=>a((e.na+1900)/100|0,2),"%d":e=>a(e.ra,2),"%e":e=>o(e.ra,2," "),"%g":e=>c(e).toString().substring(2),"%G":e=>c(e),"%H":e=>a(e.oa,2),"%I":e=>(0==(e=e.oa)?e=12:12<e&&(e-=12),a(e,2)),"%j":e=>{for(var t=0,r=0;r<=e.pa-1;t+=(K(e.na+1900)?ie:se)[r++]);return a(e.ra+t,3)},"%m":e=>a(e.pa+1,2),"%M":e=>a(e.xa,2),"%n":()=>"\n","%p":e=>0<=e.oa&&12>e.oa?"AM":"PM","%S":e=>a(e.ya,2),"%t":()=>"\t","%u":e=>e.ha||7,"%U":e=>a(Math.floor((e.ma+7-e.ha)/7),2),"%V":e=>{var t=Math.floor((e.ma+7-(e.ha+6)%7)/7);if(2>=(e.ha+371-e.ma-2)%7&&t++,t)53==t&&(4==(r=(e.ha+371-e.ma)%7)||3==r&&K(e.na)||(t=1));else{t=52;var r=(e.ha+7-e.ma-1)%7;(4==r||5==r&&K(e.na%400-1))&&t++}return a(t,2)},"%w":e=>e.ha,"%W":e=>a(Math.floor((e.ma+7-(e.ha+6)%7)/7),2),"%y":e=>(e.na+1900).toString().substring(2),"%Y":e=>e.na+1900,"%z":e=>{var t=0<=(e=e.wa);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":e=>e.za,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0"),u)r.includes(l)&&(r=r.replace(new RegExp(l,"g"),u[l](n)));return l=function(e){var t=Array(J(e)+1);return Z(e,t,0,t.length),t}(r=r.replace(/\0\0/g,"%")),l.length>t?0:(A.set(l,e>>>0),l.length-1)}var ue={a:function(e,t,r){throw new G(e>>>=0).sa(t>>>0,r>>>0),e},e:function(){return 0},I:function(){},y:function(){},A:function(){},K:function(){return 0},G:function(){},B:function(){},F:function(){},g:function(){},z:function(){},w:function(){},H:function(){},x:function(){},k:()=>!0,n:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),T[r>>2>>>0]=e.getUTCSeconds(),T[r+4>>2>>>0]=e.getUTCMinutes(),T[r+8>>2>>>0]=e.getUTCHours(),T[r+12>>2>>>0]=e.getUTCDate(),T[r+16>>2>>>0]=e.getUTCMonth(),T[r+20>>2>>>0]=e.getUTCFullYear()-1900,T[r+24>>2>>>0]=e.getUTCDay(),T[r+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(e,t,r){e=t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN,r>>>=0,e=new Date(1e3*e),T[r>>2>>>0]=e.getSeconds(),T[r+4>>2>>>0]=e.getMinutes(),T[r+8>>2>>>0]=e.getHours(),T[r+12>>2>>>0]=e.getDate(),T[r+16>>2>>>0]=e.getMonth(),T[r+20>>2>>>0]=e.getFullYear()-1900,T[r+24>>2>>>0]=e.getDay(),T[r+28>>2>>>0]=(K(e.getFullYear())?Q:ee)[e.getMonth()]+e.getDate()-1|0,T[r+36>>2>>>0]=-60*e.getTimezoneOffset(),t=new Date(e.getFullYear(),6,1).getTimezoneOffset();var n=new Date(e.getFullYear(),0,1).getTimezoneOffset();T[r+32>>2>>>0]=0|(t!=n&&e.getTimezoneOffset()==Math.min(n,t))},p:function(e){e>>>=0;var t=new Date(T[e+20>>2>>>0]+1900,T[e+16>>2>>>0],T[e+12>>2>>>0],T[e+8>>2>>>0],T[e+4>>2>>>0],T[e>>2>>>0],0),r=T[e+32>>2>>>0],n=t.getTimezoneOffset(),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),a=new Date(t.getFullYear(),0,1).getTimezoneOffset(),i=Math.min(a,o);return 0>r?T[e+32>>2>>>0]=Number(o!=a&&i==n):0<r!=(i==n)&&(o=Math.max(a,o),t.setTime(t.getTime()+6e4*((0<r?i:o)-n))),T[e+24>>2>>>0]=t.getDay(),T[e+28>>2>>>0]=(K(t.getFullYear())?Q:ee)[t.getMonth()]+t.getDate()-1|0,T[e>>2>>>0]=t.getSeconds(),T[e+4>>2>>>0]=t.getMinutes(),T[e+8>>2>>>0]=t.getHours(),T[e+12>>2>>>0]=t.getDate(),T[e+16>>2>>>0]=t.getMonth(),T[e+20>>2>>>0]=t.getYear(),e=t.getTime()/1e3,de((j=e,1<=+Math.abs(j)?0<j?+Math.floor(j/4294967296)>>>0:~~+Math.ceil((j-+(~~j>>>0))/4294967296)>>>0:0)),e>>>0},l:function(){return-52},m:function(){},u:function(e,t,r){function n(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}r>>>=0;var o=(new Date).getFullYear(),a=new Date(o,0,1),i=new Date(o,6,1);o=a.getTimezoneOffset();var s=i.getTimezoneOffset();S[e>>>0>>2>>>0]=60*Math.max(o,s),T[t>>>0>>2>>>0]=Number(o!=s),e=n(a),t=n(i),e=te(e),t=te(t),s<o?(S[r>>2>>>0]=e,S[r+4>>2>>>0]=t):(S[r>>2>>>0]=t,S[r+4>>2>>>0]=e)},d:()=>{D("")},h:function(){return Date.now()},v:function(){return 4294901760},b:()=>performance.now(),J:function(e,t,r){return t>>>=0,_.copyWithin(e>>>0>>>0,t>>>0,t+(r>>>0)>>>0)},t:function(e){e>>>=0;var t=_.length;if(4294901760<e)return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);var o=Math;n=Math.max(e,n);e:{o=o.min.call(o,4294901760,n+(65536-n%65536)%65536)-O.buffer.byteLength+65535>>>16;try{O.grow(o),R();var a=1;break e}catch(e){}a=void 0}if(a)return!0}return!1},D:function(e,t){e>>>=0,t>>>=0;var r=0;return ne().forEach((function(n,o){var a=t+r;for(o=S[e+4*o>>2>>>0]=a,a=0;a<n.length;++a)A[o++>>0>>>0]=n.charCodeAt(a);A[o>>0>>>0]=0,r+=n.length+1})),0},E:function(e,t){e>>>=0,t>>>=0;var r=ne();S[e>>2>>>0]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),S[t>>2>>>0]=n,0},s:e=>{b||(o.onExit&&o.onExit(e),P=!0),l(e,new $(e))},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(e,t,r,n){t>>>=0,r>>>=0,n>>>=0;for(var o=0,a=0;a<r;a++){var i=S[t>>2>>>0],s=S[t+4>>2>>>0];t+=8;for(var c=0;c<s;c++){var u=_[i+c>>>0],l=oe[e];0===u||10===u?((1===e?v:w)(q(l,0)),l.length=0):l.push(u)}o+=s}return S[n>>2>>>0]=o,0},r:function(e,t){return e>>>=0,ae(_.subarray(e>>>0,e+(t>>>0)>>>0)),0},C:ce,c:function(e,t,r,n){return ce(e>>>0,t>>>0,r>>>0,n>>>0)}};!function(){function e(e){if(e=e.exports,E=e=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).__errno_location=t(e.__errno_location),e.malloc=r(e.malloc),e.stackSave=t(e.stackSave),e.stackAlloc=r(e.stackAlloc),e}(e),O=E.L,R(),M.unshift(E.M),F--,o.monitorRunDependencies&&o.monitorRunDependencies(F),0==F&&(null!==k&&(clearInterval(k),k=null),L)){var t=L;L=null,t()}return e}var t={a:ue};if(F++,o.monitorRunDependencies&&o.monitorRunDependencies(F),o.instantiateWasm)try{return o.instantiateWasm(t,e)}catch(e){w("Module.instantiateWasm callback failed with error: "+e),n(e)}(function(e,t){var r=U;return y||"function"!=typeof WebAssembly.instantiateStreaming||B(r)||r.startsWith("file://")||p||"function"!=typeof fetch?z(r,e,t):fetch(r,{credentials:"same-origin"}).then((n=>WebAssembly.instantiateStreaming(n,e).then(t,(function(n){return w("wasm streaming compile failed: "+n),w("falling back to ArrayBuffer instantiation"),z(r,e,t)}))))})(t,(function(t){e(t.instance)})).catch(n)}(),o._OrtInit=(e,t)=>(o._OrtInit=E.N)(e,t),o._OrtGetLastError=(e,t)=>(o._OrtGetLastError=E.O)(e,t),o._OrtCreateSessionOptions=(e,t,r,n,a,i,s,c,u,l)=>(o._OrtCreateSessionOptions=E.P)(e,t,r,n,a,i,s,c,u,l),o._OrtAppendExecutionProvider=(e,t)=>(o._OrtAppendExecutionProvider=E.Q)(e,t),o._OrtAddSessionConfigEntry=(e,t,r)=>(o._OrtAddSessionConfigEntry=E.R)(e,t,r),o._OrtReleaseSessionOptions=e=>(o._OrtReleaseSessionOptions=E.S)(e),o._OrtCreateSession=(e,t,r)=>(o._OrtCreateSession=E.T)(e,t,r),o._OrtReleaseSession=e=>(o._OrtReleaseSession=E.U)(e),o._OrtGetInputOutputCount=(e,t,r)=>(o._OrtGetInputOutputCount=E.V)(e,t,r),o._OrtGetInputName=(e,t)=>(o._OrtGetInputName=E.W)(e,t),o._OrtGetOutputName=(e,t)=>(o._OrtGetOutputName=E.X)(e,t),o._OrtFree=e=>(o._OrtFree=E.Y)(e),o._OrtCreateTensor=(e,t,r,n,a)=>(o._OrtCreateTensor=E.Z)(e,t,r,n,a),o._OrtGetTensorData=(e,t,r,n,a)=>(o._OrtGetTensorData=E._)(e,t,r,n,a),o._OrtReleaseTensor=e=>(o._OrtReleaseTensor=E.$)(e),o._OrtCreateRunOptions=(e,t,r,n)=>(o._OrtCreateRunOptions=E.aa)(e,t,r,n),o._OrtAddRunConfigEntry=(e,t,r)=>(o._OrtAddRunConfigEntry=E.ba)(e,t,r),o._OrtReleaseRunOptions=e=>(o._OrtReleaseRunOptions=E.ca)(e),o._OrtRun=(e,t,r,n,a,i,s,c)=>(o._OrtRun=E.da)(e,t,r,n,a,i,s,c),o._OrtEndProfiling=e=>(o._OrtEndProfiling=E.ea)(e);var le=o._malloc=e=>(le=o._malloc=E.fa)(e);o._free=e=>(o._free=E.ga)(e);var fe,de=e=>(de=E.ia)(e),pe=()=>(pe=E.ja)(),me=e=>(me=E.ka)(e),ge=e=>(ge=E.la)(e);function he(){function e(){if(!fe&&(fe=!0,o.calledRun=!0,!P)){if(N(M),t(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;){var e=o.postRun.shift();C.unshift(e)}N(C)}}if(!(0<F)){if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)x();N(I),0<F||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),e()}),1)):e())}}if(o.stackAlloc=ge,o.stackSave=pe,o.stackRestore=me,o.UTF8ToString=X,o.stringToUTF8=(e,t,r)=>Z(e,_,t,r),o.lengthBytesUTF8=J,L=function e(){fe||he(),fe||(L=e)},o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return he(),e.ready});e.exports=n},760:()=>{},384:()=>{},908:()=>{},806:()=>{},449:()=>{},850:()=>{},381:()=>{},685:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveBackend=t.registerBackend=void 0;const r={},n=[];t.registerBackend=(e,t,o)=>{if(!t||"function"!=typeof t.init||"function"!=typeof t.createSessionHandler)throw new TypeError("not a valid backend");{const a=r[e];if(void 0===a)r[e]={backend:t,priority:o};else{if(a.priority>o)return;if(a.priority===o&&a.backend!==t)throw new Error(`cannot register backend "${e}" using priority ${o}`)}if(o>=0){const t=n.indexOf(e);-1!==t&&n.splice(t,1);for(let t=0;t<n.length;t++)if(r[n[t]].priority<=o)return void n.splice(t,0,e);n.push(e)}}},t.resolveBackend=async e=>{const t=0===e.length?n:e,o=[];for(const e of t){const t=r[e];if(t){if(t.initialized)return t.backend;if(t.aborted)continue;const r=!!t.initPromise;try{return r||(t.initPromise=t.backend.init()),await t.initPromise,t.initialized=!0,t.backend}catch(n){r||o.push({name:e,err:n}),t.aborted=!0}finally{delete t.initPromise}}}throw new Error(`no available backend found. ERR: ${o.map((e=>`[${e.name}] ${e.err}`)).join(", ")}`)}},798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerBackend=void 0;var n=r(685);Object.defineProperty(t,"registerBackend",{enumerable:!0,get:function(){return n.registerBackend}})},121:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;const n=r(104);let o="warning";t.env={wasm:{},webgl:{},webgpu:{},versions:{common:n.version},set logLevel(e){if(void 0!==e){if("string"!=typeof e||-1===["verbose","info","warning","error","fatal"].indexOf(e))throw new Error(`Unsupported logging level: ${e}`);o=e}},get logLevel(){return o}},Object.defineProperty(t.env,"logLevel",{enumerable:!0})},457:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;const n=r(121);t.env=n.env},235:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(798),t),o(r(457),t),o(r(974),t),o(r(963),t),o(r(852),t)},36:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InferenceSession=void 0;const n=r(685),o=r(963);class a{constructor(e){this.handler=e}async run(e,t,r){const n={};let a={};if("object"!=typeof e||null===e||e instanceof o.Tensor||Array.isArray(e))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let i=!0;if("object"==typeof t){if(null===t)throw new TypeError("Unexpected argument[1]: cannot be null.");if(t instanceof o.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(t)){if(0===t.length)throw new TypeError("'fetches' cannot be an empty array.");i=!1;for(const e of t){if("string"!=typeof e)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(e))throw new RangeError(`'fetches' contains invalid output name: ${e}.`);n[e]=null}if("object"==typeof r&&null!==r)a=r;else if(void 0!==r)throw new TypeError("'options' must be an object.")}else{let e=!1;const s=Object.getOwnPropertyNames(t);for(const r of this.outputNames)if(-1!==s.indexOf(r)){const a=t[r];(null===a||a instanceof o.Tensor)&&(e=!0,i=!1,n[r]=a)}if(e){if("object"==typeof r&&null!==r)a=r;else if(void 0!==r)throw new TypeError("'options' must be an object.")}else a=t}}else if(void 0!==t)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const t of this.inputNames)if(void 0===e[t])throw new Error(`input '${t}' is missing in 'feeds'.`);if(i)for(const e of this.outputNames)n[e]=null;const s=await this.handler.run(e,n,a),c={};for(const e in s)Object.hasOwnProperty.call(s,e)&&(c[e]=new o.Tensor(s[e].type,s[e].data,s[e].dims));return c}async release(){return this.handler.dispose()}static async create(e,t,r,o){let i,s={};if("string"==typeof e){if(i=e,"object"==typeof t&&null!==t)s=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else if(e instanceof Uint8Array){if(i=e,"object"==typeof t&&null!==t)s=t;else if(void 0!==t)throw new TypeError("'options' must be an object.")}else{if(!(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const n=e;let a=0,c=e.byteLength;if("object"==typeof t&&null!==t)s=t;else if("number"==typeof t){if(a=t,!Number.isSafeInteger(a))throw new RangeError("'byteOffset' must be an integer.");if(a<0||a>=n.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${n.byteLength}).`);if(c=e.byteLength-a,"number"==typeof r){if(c=r,!Number.isSafeInteger(c))throw new RangeError("'byteLength' must be an integer.");if(c<=0||a+c>n.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${n.byteLength-a}].`);if("object"==typeof o&&null!==o)s=o;else if(void 0!==o)throw new TypeError("'options' must be an object.")}else if(void 0!==r)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==t)throw new TypeError("'options' must be an object.");i=new Uint8Array(n,a,c)}}const c=(s.executionProviders||[]).map((e=>"string"==typeof e?e:e.name)),u=await(0,n.resolveBackend)(c),l=await u.createSessionHandler(i,s);return new a(l)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}t.InferenceSession=a},974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InferenceSession=void 0;const n=r(36);t.InferenceSession=n.InferenceSession},852:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tensorToImageData=t.tensorToDataURL=void 0,t.tensorToDataURL=(e,t)=>{const r=document.createElement("canvas");r.width=e.dims[3],r.height=e.dims[2];const n=r.getContext("2d");if(null!=n){let o,a;void 0!==t?.tensorLayout&&"NHWC"===t.tensorLayout?(o=e.dims[2],a=e.dims[3]):(o=e.dims[3],a=e.dims[2]);const i=void 0!==t?.format?t.format:"RGB",s=t?.norm;let c,u;void 0===s||void 0===s.mean?c=[255,255,255,255]:"number"==typeof s.mean?c=[s.mean,s.mean,s.mean,s.mean]:(c=[s.mean[0],s.mean[1],s.mean[2],0],void 0!==s.mean[3]&&(c[3]=s.mean[3])),void 0===s||void 0===s.bias?u=[0,0,0,0]:"number"==typeof s.bias?u=[s.bias,s.bias,s.bias,s.bias]:(u=[s.bias[0],s.bias[1],s.bias[2],0],void 0!==s.bias[3]&&(u[3]=s.bias[3]));const l=a*o;let f=0,d=l,p=2*l,m=-1;"RGBA"===i?(f=0,d=l,p=2*l,m=3*l):"RGB"===i?(f=0,d=l,p=2*l):"RBG"===i&&(f=0,p=l,d=2*l);for(let t=0;t<a;t++)for(let r=0;r<o;r++){const o=(e.data[f++]-u[0])*c[0],a=(e.data[d++]-u[1])*c[1],i=(e.data[p++]-u[2])*c[2],s=-1===m?255:(e.data[m++]-u[3])*c[3];n.fillStyle="rgba("+o+","+a+","+i+","+s+")",n.fillRect(r,t,1,1)}return r.toDataURL()}throw new Error("Can not access image data")},t.tensorToImageData=(e,t)=>{const r=document.createElement("canvas").getContext("2d");let n;if(null==r)throw new Error("Can not access image data");{let o,a,i;void 0!==t?.tensorLayout&&"NHWC"===t.tensorLayout?(o=e.dims[2],a=e.dims[1],i=e.dims[3]):(o=e.dims[3],a=e.dims[2],i=e.dims[1]);const s=void 0!==t&&void 0!==t.format?t.format:"RGB",c=t?.norm;let u,l;void 0===c||void 0===c.mean?u=[255,255,255,255]:"number"==typeof c.mean?u=[c.mean,c.mean,c.mean,c.mean]:(u=[c.mean[0],c.mean[1],c.mean[2],255],void 0!==c.mean[3]&&(u[3]=c.mean[3])),void 0===c||void 0===c.bias?l=[0,0,0,0]:"number"==typeof c.bias?l=[c.bias,c.bias,c.bias,c.bias]:(l=[c.bias[0],c.bias[1],c.bias[2],0],void 0!==c.bias[3]&&(l[3]=c.bias[3]));const f=a*o;if(void 0!==t&&(void 0!==t.format&&4===i&&"RGBA"!==t.format||3===i&&"RGB"!==t.format&&"BGR"!==t.format))throw new Error("Tensor format doesn't match input tensor dims");const d=4;let p=0,m=1,g=2,h=3,y=0,v=f,w=2*f,b=-1;"RGBA"===s?(y=0,v=f,w=2*f,b=3*f):"RGB"===s?(y=0,v=f,w=2*f):"RBG"===s&&(y=0,w=f,v=2*f),n=r.createImageData(o,a);for(let t=0;t<a*o;p+=d,m+=d,g+=d,h+=d,t++)n.data[p]=(e.data[y++]-l[0])*u[0],n.data[m]=(e.data[v++]-l[1])*u[1],n.data[g]=(e.data[w++]-l[2])*u[2],n.data[h]=-1===b?255:(e.data[b++]-l[3])*u[3]}return n}},866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tensorFromImage=t.bufferToTensor=void 0;const n=r(963);t.bufferToTensor=(e,t)=>{if(void 0===e)throw new Error("Image buffer must be defined");if(void 0===t.height||void 0===t.width)throw new Error("Image height and width must be defined");if("NHWC"===t.tensorLayout)throw new Error("NHWC Tensor layout is not supported yet");const{height:r,width:o}=t,a=t.norm??{mean:255,bias:0};let i,s;i="number"==typeof a.mean?[a.mean,a.mean,a.mean,a.mean]:[a.mean[0],a.mean[1],a.mean[2],a.mean[3]??255],s="number"==typeof a.bias?[a.bias,a.bias,a.bias,a.bias]:[a.bias[0],a.bias[1],a.bias[2],a.bias[3]??0];const c=void 0!==t.format?t.format:"RGBA",u=void 0!==t.tensorFormat&&void 0!==t.tensorFormat?t.tensorFormat:"RGB",l=r*o,f="RGBA"===u?new Float32Array(4*l):new Float32Array(3*l);let d=4,p=0,m=1,g=2,h=3,y=0,v=l,w=2*l,b=-1;"RGB"===c&&(d=3,p=0,m=1,g=2,h=-1),"RGBA"===u?b=3*l:"RBG"===u?(y=0,w=l,v=2*l):"BGR"===u&&(w=0,v=l,y=2*l);for(let t=0;t<l;t++,p+=d,g+=d,m+=d,h+=d)f[y++]=(e[p]+s[0])/i[0],f[v++]=(e[m]+s[1])/i[1],f[w++]=(e[g]+s[2])/i[2],-1!==b&&-1!==h&&(f[b++]=(e[h]+s[3])/i[3]);return"RGBA"===u?new n.Tensor("float32",f,[1,4,r,o]):new n.Tensor("float32",f,[1,3,r,o])},t.tensorFromImage=async(e,r)=>{const n="undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement,o="undefined"!=typeof ImageData&&e instanceof ImageData,a="undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap,i="string"==typeof e;let s,c=r??{};if(n){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");if(null==n)throw new Error("Can not access image data");{let t=e.height,o=e.width;if(void 0!==r&&void 0!==r.resizedHeight&&void 0!==r.resizedWidth&&(t=r.resizedHeight,o=r.resizedWidth),void 0!==r){if(c=r,void 0!==r.tensorFormat)throw new Error("Image input config format must be RGBA for HTMLImageElement");c.tensorFormat="RGBA",c.height=t,c.width=o}else c.tensorFormat="RGBA",c.height=t,c.width=o;n.drawImage(e,0,0),s=n.getImageData(0,0,o,t).data}}else{if(!o){if(a){if(void 0===r)throw new Error("Please provide image config with format for Imagebitmap");const n=document.createElement("canvas");n.width=e.width,n.height=e.height;const o=n.getContext("2d");if(null!=o){const r=e.height,n=e.width;return o.drawImage(e,0,0,n,r),s=o.getImageData(0,0,n,r).data,c.height=r,c.width=n,(0,t.bufferToTensor)(s,c)}throw new Error("Can not access image data")}if(i)return new Promise(((r,n)=>{const o=document.createElement("canvas"),a=o.getContext("2d");if(!e||!a)return n();const i=new Image;i.crossOrigin="Anonymous",i.src=e,i.onload=()=>{o.width=i.width,o.height=i.height,a.drawImage(i,0,0,o.width,o.height);const e=a.getImageData(0,0,o.width,o.height);c.height=o.height,c.width=o.width,r((0,t.bufferToTensor)(e.data,c))}}));throw new Error("Input data provided is not supported - aborted tensor creation")}{let t,n;if(void 0!==r&&void 0!==r.resizedWidth&&void 0!==r.resizedHeight?(t=r.resizedHeight,n=r.resizedWidth):(t=e.height,n=e.width),void 0!==r&&(c=r),c.format="RGBA",c.height=t,c.width=n,void 0!==r){const r=document.createElement("canvas");r.width=n,r.height=t;const o=r.getContext("2d");if(null==o)throw new Error("Can not access image data");o.putImageData(e,0,0),s=o.getImageData(0,0,n,t).data}else s=e.data}}if(void 0!==s)return(0,t.bufferToTensor)(s,c);throw new Error("Input data provided is not supported - aborted tensor creation")}},957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const n=r(350),o=r(866),a=r(106),i=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),s=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);let c=!1;t.Tensor=class{constructor(e,t,r){let n,o,u;if((()=>{if(!c){c=!0;const e="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,t="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from;e&&(i.set("int64",BigInt64Array),s.set(BigInt64Array,"int64")),t&&(i.set("uint64",BigUint64Array),s.set(BigUint64Array,"uint64"))}})(),"string"==typeof e)if(n=e,u=r,"string"===e){if(!Array.isArray(t))throw new TypeError("A string tensor's data must be a string array.");o=t}else{const r=i.get(e);if(void 0===r)throw new TypeError(`Unsupported tensor type: ${e}.`);if(Array.isArray(t)){if("float16"===e)throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");o="uint64"===e||"int64"===e?r.from(t,BigInt):r.from(t)}else{if(!(t instanceof r))throw new TypeError(`A ${n} tensor's data must be type of ${r}`);o=t}}else if(u=t,Array.isArray(e)){if(0===e.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const t=typeof e[0];if("string"===t)n="string",o=e;else{if("boolean"!==t)throw new TypeError(`Invalid element type of data array: ${t}.`);n="bool",o=Uint8Array.from(e)}}else{const t=s.get(e.constructor);if(void 0===t)throw new TypeError(`Unsupported type for tensor data: ${e.constructor}.`);n=t,o=e}if(void 0===u)u=[o.length];else if(!Array.isArray(u))throw new TypeError("A tensor's dims must be a number array");const l=(0,a.calculateSize)(u);if(l!==o.length)throw new Error(`Tensor's size(${l}) does not match data length(${o.length}).`);this.dims=u,this.type=n,this.data=o,this.size=l}static async fromImage(e,t){return(0,o.tensorFromImage)(e,t)}toDataURL(e){return(0,n.tensorToDataURL)(this,e)}toImageData(e){return(0,n.tensorToImageData)(this,e)}reshape(e){return(0,a.tensorReshape)(this,e)}}},106:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tensorReshape=t.calculateSize=void 0;const n=r(963);t.calculateSize=e=>{let t=1;for(let r=0;r<e.length;r++){const n=e[r];if("number"!=typeof n||!Number.isSafeInteger(n))throw new TypeError(`dims[${r}] must be an integer, got: ${n}`);if(n<0)throw new RangeError(`dims[${r}] must be a non-negative integer, got: ${n}`);t*=n}return t},t.tensorReshape=(e,t)=>new n.Tensor(e.type,e.data,t)},963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tensor=void 0;const n=r(957);t.Tensor=n.Tensor},104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="1.16.3"}},t={},function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(57);var e,t}));
//# sourceMappingURL=ort.wasm-core.min.js.map