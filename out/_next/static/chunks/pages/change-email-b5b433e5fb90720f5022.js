(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{452:function(e,t,n){"use strict";var r=n(91288);t.Z=r.ZP.img.withConfig({displayName:"LogoImg",componentId:"sc-1whqfa-0"})(["height:25px;vertical-align:bottom;padding-right:15px;border-right:2px solid #aaa;margin-right:15px;"])},68268:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var r=n(89862),i=n(452),a=n(67294),s=n(24479),o=n(88375),c=n(65850),l=n(11163),u=n(68487),p=n(39151),d=n(92809),f=n(30266),h=n(809),m=n.n(h),x=n(48193),v=n(66800),g=n(94716),E=n(31555),b=n(35005),j=n(78961),O=n(43514),y=n(63255),Z=n(91288),w=n(24118),_=n(35641),P=n(76640),S=n(85893);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=Z.ZP.div.withConfig({displayName:"ChangeEmail__EmailRow",componentId:"sc-1rkrgtv-0"})(["display:flex;flex-wrap:wrap;border:1px solid grey;margin-bottom:19px;align-items:center;text-align:left;color:#fff;"]);var T=function(e){var t=(0,a.useState)(!1),n=t[0],r=t[1],i=(0,a.useState)(!1),s=i[0],o=i[1],u=(0,a.useRef)(null),p=(0,a.useRef)(null),d=(0,a.useContext)(w.AppContext);(0,a.useEffect)((function(){setTimeout((function(){var e;null===(e=u.current)||void 0===e||e.focus()}),250)}),[]),(0,a.useEffect)((function(){s||e.showMessage(!1)}),[s]);var h=function(){var t=(0,f.Z)(m().mark((function t(n,i){var a,s;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.email,s=i.setFieldError,t.prev=2,r(!0),t.next=6,(0,y.tI)(a);case 6:e.setEmail(a),o(!0),e.showMessage(!0),setTimeout((function(){var e;null===(e=p.current)||void 0===e||e.focus()}),250),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),s("email","".concat(c.Z.EMAIl_ALREADY_OWNED));case 15:r(!1);case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}(),Z=function(){var e=(0,f.Z)(m().mark((function e(t,n){var i,a,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.email,a=t.ott,s=n.setFieldError,e.prev=2,r(!0),e.next=6,(0,y.Uk)(i,a);case 6:(0,_.a_)(_.Pd.USER,k(k({},(0,_.Yu)(_.Pd.USER)),{},{email:i})),d.setDisappearingFlashMessage({message:c.Z.EMAIL_UDPATE_SUCCESSFUL,type:w.FLASH_MESSAGE_TYPE.SUCCESS}),l.default.push(P.q5.GALLERY),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),s("ott","".concat(c.Z.INCORRECT_CODE));case 14:r(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,S.jsx)(x.J9,{initialValues:{email:""},validationSchema:j.Ry().shape({email:j.Z_().email(c.Z.EMAIL_ERROR).required(c.Z.REQUIRED)}),validateOnChange:!1,validateOnBlur:!1,onSubmit:s?Z:h,children:function(e){var t=e.values,r=e.errors,i=e.touched,a=e.handleChange,d=e.handleSubmit;return(0,S.jsxs)(v.Z,{noValidate:!0,onSubmit:d,children:[s?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(R,{children:[(0,S.jsx)(E.Z,{xs:"8",children:t.email}),(0,S.jsx)(E.Z,{xs:"4",children:(0,S.jsx)(b.Z,{variant:"link",onClick:function(){return o(!1)},children:c.Z.CHANGE})})]}),(0,S.jsxs)(v.Z.Group,{controlId:"formBasicEmail",children:[(0,S.jsx)(v.Z.Control,{ref:p,type:"text",placeholder:c.Z.ENTER_OTT,value:t.ott,onChange:a("ott"),isInvalid:Boolean(i.ott&&r.ott),disabled:n}),(0,S.jsx)(g.Z.Feedback,{type:"invalid",children:r.ott})]})]}):(0,S.jsxs)(v.Z.Group,{controlId:"formBasicEmail",children:[(0,S.jsx)(v.Z.Control,{ref:u,type:"email",placeholder:c.Z.ENTER_EMAIL,value:t.email,onChange:a("email"),isInvalid:Boolean(i.email&&r.email),autoFocus:!0,disabled:n}),(0,S.jsx)(g.Z.Feedback,{type:"invalid",children:r.email})]}),(0,S.jsx)(O.Z,{buttonText:s?c.Z.VERIFY:c.Z.SEND_OTT,loading:n}),(0,S.jsx)("br",{}),(0,S.jsx)(b.Z,{block:!0,variant:"link",className:"text-center",onClick:l.default.back,children:c.Z.GO_BACK})]})}})};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t,n,r=e.size,i=e.children,a=e.style;switch(r){case"sm":t="320px",n="0px";break;case"md":t="460px",n="10px";break;default:t="480px",n="10px"}return(0,S.jsx)(s.Z,{style:N({minWidth:t,padding:n},a),className:"text-center",children:i})};var D=function(){var e=(0,a.useState)(""),t=e[0],n=e[1],d=(0,a.useState)(!0),f=d[0],h=d[1],m=(0,a.useState)(!1),x=m[0],v=m[1],g=(0,a.useState)(!1),E=g[0],b=g[1];return(0,a.useEffect)((function(){(0,u.LP)()?h(!1):l.default.push(P.q5.ROOT)}),[]),(0,S.jsx)(r.ZP,{children:f?(0,S.jsx)(p.Z,{children:(0,S.jsx)("span",{className:"sr-only",children:"Loading..."})}):(0,S.jsx)(A,{size:E?"md":"sm",children:(0,S.jsxs)(s.Z.Body,{style:{padding:"40px 30px"},children:[(0,S.jsxs)(s.Z.Title,{style:{marginBottom:"32px"},children:[(0,S.jsx)(i.Z,{src:"/icon.svg"}),c.Z.UPDATE_EMAIL]}),(0,S.jsx)(o.Z,{variant:"success",show:x,style:{paddingBottom:0},transition:!0,dismissible:!0,onClose:function(){return v(!1)},children:c.Z.EMAIL_SENT({email:t})}),(0,S.jsx)(T,{showMessage:function(e){v(e),b(e)},setEmail:n})]})})})}},41705:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/change-email",function(){return n(68268)}])}},function(e){e.O(0,[446,279,774,888,179],(function(){return t=41705,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=change-email-b5b433e5fb90720f5022.js.map