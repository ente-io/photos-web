(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{452:function(t,e,n){"use strict";var r=n(91288);e.Z=r.ZP.img.withConfig({displayName:"LogoImg",componentId:"sc-1whqfa-0"})(["height:25px;vertical-align:bottom;padding-right:15px;border-right:2px solid #aaa;margin-right:15px;"])},21608:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return S}});var r=n(30266),a=n(809),i=n.n(a),o=n(67294),s=n(89862),u=n(24479),c=n(66800),d=n(65850),l=n(35641),p=n(11163),E=n(48193),h=n(78961),f=n(63255),_=n(66091),v=n(43514),x=n(15289),T=n(24118),I=n(452),R=n(76640),N=n(85893);function S(){var t=(0,o.useState)(""),e=t[0],n=t[1],a=(0,o.useState)(!1),S=a[0],Z=a[1],m=(0,o.useState)(0),k=m[0],A=m[1],j=(0,p.useRouter)(),y=(0,o.useContext)(T.AppContext);(0,o.useEffect)((function(){(function(){var t=(0,r.Z)(i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j.prefetch(R.q5.TWO_FACTOR_VERIFY),j.prefetch(R.q5.CREDENTIALS),j.prefetch(R.q5.GENERATE),e=(0,l.Yu)(l.Pd.USER),r=(0,l.Yu)(l.Pd.KEY_ATTRIBUTES),null!==e&&void 0!==e&&e.email?null!==r&&void 0!==r&&r.encryptedKey&&(e.token||e.encryptedToken)?j.push(R.q5.CREDENTIALS):n(e.email):j.push(R.q5.ROOT);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),y.showNavBar(!1)}),[]);var C=function(){var t=(0,r.Z)(i().mark((function t(n,r){var a,o,s,u,c,p,E,h,v;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.ott,o=r.setFieldError,t.prev=2,Z(!0),t.next=6,(0,f._O)(e,a);case 6:if(s=t.sent,u=s.data,c=u.keyAttributes,p=u.encryptedToken,E=u.token,h=u.id,!(v=u.twoFactorSessionID)){t.next=14;break}(0,l.a_)(l.Pd.USER,{email:e,twoFactorSessionID:v,isTwoFactorEnabled:!0}),(0,_.Qj)(!0),j.push(R.q5.TWO_FACTOR_VERIFY),t.next=26;break;case 14:if((0,l.a_)(l.Pd.USER,{email:e,token:E,encryptedToken:p,id:h,isTwoFactorEnabled:!1}),!c){t.next=20;break}(0,l.a_)(l.Pd.KEY_ATTRIBUTES,c),(0,l.a_)(l.Pd.ORIGINAL_KEY_ATTRIBUTES,c),t.next=23;break;case 20:if(!(0,l.Yu)(l.Pd.ORIGINAL_KEY_ATTRIBUTES)){t.next=23;break}return t.next=23,(0,f.p6)(E,(0,l.Yu)(l.Pd.ORIGINAL_KEY_ATTRIBUTES));case 23:(0,f.VP)(),(0,_.Qj)(!0),null!==c&&void 0!==c&&c.encryptedKey?((0,x.z5)(),j.push(R.q5.CREDENTIALS)):j.push(R.q5.GENERATE);case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(2),401===(null===t.t0||void 0===t.t0?void 0:t.t0.status)?o("ott",d.Z.INVALID_CODE):410===(null===t.t0||void 0===t.t0?void 0:t.t0.status)?o("ott",d.Z.EXPIRED_CODE):o("ott","".concat(d.Z.UNKNOWN_ERROR," ").concat(t.t0.message));case 31:Z(!1);case 32:case"end":return t.stop()}}),t,null,[[2,28]])})));return function(e,n){return t.apply(this,arguments)}}(),O=function(){var t=(0,r.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A(1),t.next=3,(0,f.eF)(e);case 3:A(2),setTimeout((function(){return A(0)}),3e3);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return e?(0,N.jsx)(s.ZP,{children:(0,N.jsx)(u.Z,{style:{minWidth:"300px"},className:"text-center",children:(0,N.jsxs)(u.Z.Body,{style:{padding:"40px 30px"},children:[(0,N.jsxs)(u.Z.Title,{style:{marginBottom:"32px"},children:[(0,N.jsx)(I.Z,{src:"/icon.svg"}),d.Z.VERIFY_EMAIL]}),d.Z.EMAIL_SENT({email:e}),d.Z.CHECK_INBOX,(0,N.jsx)("br",{}),(0,N.jsx)("br",{}),(0,N.jsx)(E.J9,{initialValues:{ott:""},validationSchema:h.Ry().shape({ott:h.Z_().required(d.Z.REQUIRED)}),validateOnChange:!1,validateOnBlur:!1,onSubmit:C,children:function(t){var e=t.values,n=t.touched,r=t.errors,a=t.handleChange,i=t.handleSubmit;return(0,N.jsxs)(c.Z,{noValidate:!0,onSubmit:i,children:[(0,N.jsxs)(c.Z.Group,{children:[(0,N.jsx)(c.Z.Control,{className:"text-center",type:"text",value:e.ott,onChange:a("ott"),isInvalid:Boolean(n.ott&&r.ott),placeholder:d.Z.ENTER_OTT,disabled:S,autoFocus:!0}),(0,N.jsx)(c.Z.Control.Feedback,{type:"invalid",children:r.ott})]}),(0,N.jsx)(v.Z,{buttonText:d.Z.VERIFY,loading:S}),(0,N.jsxs)("div",{style:{marginTop:"24px"},children:[0===k&&(0,N.jsx)("a",{href:"#",onClick:O,children:d.Z.RESEND_MAIL}),1===k&&(0,N.jsx)("span",{children:d.Z.SENDING}),2===k&&(0,N.jsx)("span",{children:d.Z.SENT}),(0,N.jsx)("div",{style:{marginTop:"8px"},children:(0,N.jsx)("a",{href:"#",onClick:f.TX,children:d.Z.CHANGE_EMAIL})})]})]})}})]})})}):null}},66091:function(t,e,n){"use strict";n.d(e,{aF:function(){return a},Qj:function(){return i},fo:function(){return o},n_:function(){return s}});var r=n(35641),a=function(){var t,e;return null!==(t=null===(e=(0,r.Yu)(r.Pd.IS_FIRST_LOGIN))||void 0===e?void 0:e.status)&&void 0!==t&&t};function i(t){(0,r.a_)(r.Pd.IS_FIRST_LOGIN,{status:t})}var o=function(){var t,e;return null!==(t=null===(e=(0,r.Yu)(r.Pd.JUST_SIGNED_UP))||void 0===e?void 0:e.status)&&void 0!==t&&t};function s(t){(0,r.a_)(r.Pd.JUST_SIGNED_UP,{status:t})}},43983:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify",function(){return n(21608)}])}},function(t){t.O(0,[446,279,774,888,179],(function(){return e=43983,t(t.s=e);var e}));var e=t.O();_N_E=e}]);
//# sourceMappingURL=verify-f24002f122eec9e54d42.js.map