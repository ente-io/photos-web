(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{452:function(e,t,n){"use strict";var r=n(91288);t.Z=r.ZP.img.withConfig({displayName:"LogoImg",componentId:"sc-1whqfa-0"})(["height:25px;vertical-align:bottom;padding-right:15px;border-right:2px solid #aaa;margin-right:15px;"])},94785:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(92809),i=n(10219),o=(n(67294),n(33114)),s=n(35005),a=n(65850),c=n(85893),l=["attributes","children"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t,n,r,d,p,h,x=e.attributes,v=e.children,f=(0,i.Z)(e,l);return x?(0,c.jsxs)(o.Z,u(u({},f),{},{onHide:x.nonClosable?function(){return null}:f.onHide,centered:!0,backdrop:!x.staticBackdrop||"static",children:[(0,c.jsx)(o.Z.Header,{style:{borderBottom:"none"},closeButton:!x.nonClosable,children:x.title&&(0,c.jsx)(o.Z.Title,{children:x.title})}),(v||(null===x||void 0===x?void 0:x.content))&&(0,c.jsx)(o.Z.Body,{style:{borderTop:"1px solid #444"},children:v||(0,c.jsx)("p",{style:{fontSize:"1.25rem",marginBottom:0},children:x.content})}),(x.close||x.proceed)&&(0,c.jsx)(o.Z.Footer,{style:{borderTop:"none"},children:(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[x.close&&(0,c.jsx)(s.Z,{variant:"outline-".concat(null!==(t=null===(n=x.close)||void 0===n?void 0:n.variant)&&void 0!==t?t:"secondary"),onClick:function(){var e;x.close.action&&(null===(e=x.close)||void 0===e||e.action()),f.onHide()},style:{padding:"6px 3em",margin:"0 20px",marginBottom:"20px",flex:1,whiteSpace:"nowrap"},children:null!==(r=null===(d=x.close)||void 0===d?void 0:d.text)&&void 0!==r?r:a.Z.OK}),x.proceed&&(0,c.jsx)(s.Z,{variant:"outline-".concat(null!==(p=null===(h=x.proceed)||void 0===h?void 0:h.variant)&&void 0!==p?p:"primary"),onClick:function(){x.proceed.action(),f.onHide()},style:{padding:"6px 3em",margin:"0 20px",marginBottom:"20px",flex:1,whiteSpace:"nowrap"},disabled:x.proceed.disabled,children:x.proceed.text})]})})]})):(0,c.jsx)(o.Z,{})}},91441:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(30266),i=n(809),o=n.n(i),s=n(67294),a=n(65850),c=n(66800),l=n(48193),d=n(78961),u=n(43514),p=n(91288),h=n(85893);function x(e){return(0,h.jsx)("div",{children:(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.height,viewBox:e.viewBox,width:e.width,fill:"#000000",children:[(0,h.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,h.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})]})})}function v(e){return(0,h.jsx)("div",{children:(0,h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:e.height,viewBox:e.viewBox,width:e.width,fill:"#000000",children:[(0,h.jsx)("path",{d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z",fill:"none"}),(0,h.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})]})})}x.defaultProps={height:24,width:24,viewBox:"0 0 24 24",open:!1},v.defaultProps={height:24,width:24,viewBox:"0 0 24 24",open:!1};var f=p.ZP.div.withConfig({displayName:"SingleInputForm__Group",componentId:"sc-bpre9q-0"})(["position:relative;"]),m=p.ZP.button.withConfig({displayName:"SingleInputForm__Button",componentId:"sc-bpre9q-1"})(["background:transparent;border:none;width:46px;height:34px;position:absolute;top:1px;right:1px;border-radius:5px;align-items:center;"]);function g(e){var t=(0,s.useState)(!1),n=t[0],i=t[1],p=(0,s.useState)(!1),g=p[0],w=p[1],b=function(){var t=(0,r.Z)(o().mark((function t(n,r){var s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=r.setFieldError,i(!0),t.next=4,e.callback(n.passphrase,s);case 4:i(!1);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,h.jsx)(l.J9,{initialValues:{passphrase:""},onSubmit:b,validationSchema:d.Ry().shape({passphrase:d.Z_().required(a.Z.REQUIRED)}),validateOnChange:!1,validateOnBlur:!1,children:function(t){var r=t.values,i=t.touched,o=t.errors,s=t.handleChange,a=t.handleSubmit;return(0,h.jsxs)(c.Z,{noValidate:!0,onSubmit:a,children:[(0,h.jsx)(c.Z.Group,{children:(0,h.jsxs)(f,{children:[(0,h.jsx)(c.Z.Control,{type:g?"text":e.fieldType,placeholder:e.placeholder,value:r.passphrase,onChange:s("passphrase"),isInvalid:Boolean(i.passphrase&&o.passphrase),disabled:n,autoFocus:!0}),"password"===e.fieldType&&(0,h.jsx)(m,{type:"button",onClick:function(){return w(!g)},children:g?(0,h.jsx)(v,{}):(0,h.jsx)(x,{})}),(0,h.jsx)(c.Z.Control.Feedback,{type:"invalid",children:o.passphrase})]})}),(0,h.jsx)(u.Z,{buttonText:e.buttonText,loading:n}),(0,h.jsx)("br",{})]})}})}},89791:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(30266),i=n(809),o=n.n(i),s=n(67294),a=n(65850),c=n(35641),l=n(11163),d=n(76640),u=n(8635),p=n(91441),h=n(94785),x=n(89862),v=n(24479),f=n(35005),m=n(24118),g=n(452),w=n(5567),b=n(15289),j=n(85893),y=n(2153);function E(){var e=(0,l.useRouter)(),t=(0,s.useState)(),n=t[0],i=t[1],E=(0,s.useState)(!1),Z=E[0],O=E[1],C=(0,s.useContext)(m.AppContext);(0,s.useEffect)((function(){e.prefetch(d.q5.GALLERY);var t=(0,c.Yu)(c.Pd.USER),n=(0,c.Yu)(c.Pd.KEY_ATTRIBUTES),r=(0,b.km)(b.Qm.ENCRYPTION_KEY);(null!==t&&void 0!==t&&t.token||null!==t&&void 0!==t&&t.encryptedToken)&&null!==n&&void 0!==n&&n.memLimit?n?r?e.push(d.q5.GALLERY):i(n):e.push(d.q5.GENERATE):((0,c.Nk)(),e.push(d.q5.ROOT)),C.showNavBar(!1)}),[]);var _=function(){var t=(0,r.Z)(o().mark((function t(r,i){var s,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r.trim().indexOf(" ")>0)){t.next=5;break}if(24===r.trim().split(" ").length){t.next=4;break}throw new Error("recovery code should have 24 words");case 4:r=y.mnemonicToEntropy(r);case 5:return t.next=7,new u.ZP;case 7:return s=t.sent,t.t0=s,t.t1=n.masterKeyEncryptedWithRecoveryKey,t.t2=n.masterKeyDecryptionNonce,t.next=13,s.fromHex(r);case 13:return t.t3=t.sent,t.next=16,t.t0.decryptB64.call(t.t0,t.t1,t.t2,t.t3);case 16:return l=t.sent,t.next=19,(0,u.K_)(b.Qm.ENCRYPTION_KEY,l);case 19:return t.next=21,(0,u.PN)(l);case 21:(0,c.a_)(c.Pd.SHOW_BACK_BUTTON,{value:!1}),e.push(d.q5.CHANGE_PASSWORD),t.next=29;break;case 25:t.prev=25,t.t4=t.catch(0),(0,w.H)(t.t4,"password recovery failed"),i("passphrase",a.Z.INCORRECT_RECOVERY_KEY);case 29:case"end":return t.stop()}}),t,null,[[0,25]])})));return function(e,n){return t.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.ZP,{children:(0,j.jsx)(v.Z,{style:{minWidth:"320px"},className:"text-center",children:(0,j.jsxs)(v.Z.Body,{style:{padding:"40px 30px"},children:[(0,j.jsxs)(v.Z.Title,{style:{marginBottom:"32px"},children:[(0,j.jsx)(g.Z,{src:"/icon.svg"}),a.Z.RECOVER_ACCOUNT]}),(0,j.jsx)(p.Z,{callback:_,fieldType:"text",placeholder:a.Z.RETURN_RECOVERY_KEY_HINT,buttonText:a.Z.RECOVER}),(0,j.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:"12px"},children:[(0,j.jsx)(f.Z,{variant:"link",onClick:function(){return O(!0)},children:a.Z.NO_RECOVERY_KEY}),(0,j.jsx)(f.Z,{variant:"link",onClick:e.back,children:a.Z.GO_BACK})]})]})})}),(0,j.jsx)(h.Z,{size:"lg",show:Z,onHide:function(){return O(!1)},attributes:{title:a.Z.SORRY,close:{},content:a.Z.NO_RECOVERY_KEY_MESSAGE}})]})}y.setDefaultWordlist("english")},26864:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recover",function(){return n(89791)}])},69386:function(){},31616:function(){},69862:function(){},40964:function(){}},function(e){e.O(0,[446,714,114,153,279,774,888,179],(function(){return t=26864,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=recover-ae5bc76c765cd2b638e1.js.map